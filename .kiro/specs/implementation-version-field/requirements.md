# 要件ドキュメント

## 概要

`npm run generate`で生成されるキャラクターデータに実装バージョンの項目を追加する機能です。この機能により、HoyoLab API から取得した各キャラクターの実装バージョン情報を処理し、データに含めることができます。

## 要件

### 要件 1

**ユーザーストーリー:** 開発者として、各キャラクターの実装バージョンを知りたい。そうすることで、どのバージョンでキャラクターが追加されたかを追跡できる。

#### 受け入れ基準

1. WHEN キャラクターデータが生成される THEN システムは各キャラクターに実装バージョン情報を含める SHALL
2. WHEN 実装バージョンが API から取得される THEN `Ver.1.0「バージョン名」` 形式から数値部分（1.0）が抽出される SHALL
3. WHEN バージョン文字列が解析される THEN 正規表現を使用して数値部分のみが取得される SHALL
4. WHEN キャラクターデータが出力される THEN `releaseVersion` フィールドが Character 型に含まれる SHALL

### 要件 2

**ユーザーストーリー:** データ処理システムとして、HoyoLab API から実装バージョン情報を正確に抽出したい。そうすることで、正しいバージョン情報をキャラクターデータに含めることができる。

#### 受け入れ基準

1. WHEN API レスポンスが処理される THEN 実装バージョン情報がキャラクターデータから抽出される SHALL
2. WHEN バージョン情報が見つからない THEN 0 が設定される SHALL
3. WHEN バージョン文字列が無効な形式 THEN 0 を使用する SHALL

### 要件 3

**ユーザーストーリー:** 開発者として、生成された TypeScript ファイルで実装バージョンを利用したい。そうすることで、バージョン別のフィルタリングや分析が可能になる。

#### 受け入れ基準

1. WHEN キャラクターデータが `data/characters.ts` に出力される THEN `releaseVersion` フィールドが含まれる SHALL
2. WHEN TypeScript 型定義が更新される THEN `Character` 型に `releaseVersion: number` が追加される SHALL
3. WHEN 既存のコードが実行される THEN 後方互換性が維持される SHALL
