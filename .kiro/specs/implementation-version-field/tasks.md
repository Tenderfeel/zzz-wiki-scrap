# 実装計画

- [x] 1. 型定義の拡張

  - Character 型に releaseVersion フィールドを追加
  - BasicCharacterInfo 型に releaseVersion フィールドを追加
  - 既存の型定義との互換性を確保
  - _要件: 1.4, 3.2_

- [x] 2. DataProcessor の拡張

  - [x] 2.1 extractReleaseVersion メソッドの実装

    - baseInfo コンポーネントから JSON データを抽出
    - 実装バージョンキーを検索
    - HTML タグを含むバージョン文字列を取得
    - _要件: 2.1, 2.2_

  - [x] 2.2 バージョン解析ロジックの実装

    - 正規表現で Ver.X.Y 形式を抽出
    - 数値変換処理
    - エラーハンドリングとデフォルト値（0）の設定
    - _要件: 2.2, 2.3_

  - [x] 2.3 extractBasicInfo メソッドの更新
    - 既存メソッドに releaseVersion 抽出を統合
    - BasicCharacterInfo 型に releaseVersion を含める
    - _要件: 1.1, 2.1_

- [x] 3. DataMapper の拡張

  - [x] 3.1 parseVersionNumber メソッドの実装

    - バージョン文字列の正規表現解析
    - HTML タグの除去処理
    - 数値変換とエラーハンドリング
    - _要件: 2.2, 2.3_

  - [x] 3.2 バージョン解析のユニットテスト
    - 正常なバージョン文字列のテスト
    - 異常なバージョン文字列のテスト
    - HTML タグを含む文字列のテスト
    - _要件: 2.2, 2.3_

- [x] 4. CharacterGenerator の更新

  - [x] 4.1 Character 型出力の更新

    - releaseVersion フィールドを含む TypeScript 出力
    - 既存のキャラクターデータとの互換性確保
    - _要件: 3.1, 3.3_

  - [x] 4.2 生成されたファイルの検証
    - data/characters.ts に releaseVersion が含まれることを確認
    - TypeScript 型チェックの実行
    - _要件: 3.1, 3.2_

- [x] 5. エラーハンドリングとログ出力の実装

  - [x] 5.1 詳細なログ出力の追加

    - 成功時のデバッグログ
    - 失敗時の警告・エラーログ
    - 統計情報の出力
    - _要件: 2.3_

  - [x] 5.2 グレースフルデグラデーション
    - baseInfo コンポーネント未発見時の処理
    - 実装バージョンキー未発見時の処理
    - パース失敗時の処理
    - _要件: 2.3_

- [x] 6. 統合テストと検証

  - [x] 6.1 実際の API データでのテスト

    - lycaon.json を使用した統合テスト
    - 複数キャラクターでの一括処理テスト
    - _要件: 1.1, 2.1, 3.1_

  - [x] 6.2 エラーケースの統合テスト
    - 不完全な API データでのテスト
    - 異常なバージョン形式でのテスト
    - _要件: 2.3_
