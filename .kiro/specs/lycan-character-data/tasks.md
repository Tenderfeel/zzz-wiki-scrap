# 実装計画

- [x] 1. プロジェクト構造とコア型定義の設定

  - TypeScript 設定ファイルとプロジェクト構造を作成
  - 型定義ファイル（Character、Faction、Specialty 等）を実装
  - _要件: 1.1, 5.1, 5.2_

- [x] 2. API クライアントとファイルローダーの実装

  - [x] 2.1 lycaon.json ファイルからデータを読み込む FileLoader クラスを実装

    - ファイル読み込み機能と JSON 解析機能を含む
    - エラーハンドリングを実装
    - _要件: 1.1, 1.4_

  - [x] 2.2 HoyoLab API クライアントクラスを実装
    - 日本語と英語の両方の言語パラメータをサポート
    - API エンドポイントへの HTTP リクエスト機能
    - _要件: 1.1, 1.2, 1.4_

- [ ] 3. データプロセッサーの実装

  - [ ] 3.1 基本キャラクター情報抽出機能を実装

    - API レスポンスから id、name、specialty、stats、attackType、rarity を抽出
    - _要件: 2.1, 2.2, 2.3, 2.4, 2.5, 2.6_

  - [ ] 3.2 陣営情報抽出機能を実装

    - baseInfo コンポーネントの JSON 解析機能
    - 陣営名から data/factions.ts の ID へのマッピング機能
    - _要件: 3.1, 3.2, 3.3_

  - [ ] 3.3 属性データ抽出機能を実装
    - ascension コンポーネントの特定と解析
    - JSON 文字列の解析機能
    - _要件: 4.1, 4.2_

- [ ] 4. データマッパーの実装

  - [ ] 4.1 列挙値マッピング機能を実装

    - specialty、stats、attackType、rarity の日本語から英語列挙値へのマッピング
    - 未知の値に対するエラーハンドリング
    - _要件: 2.3, 2.4, 2.5, 2.6_

  - [ ] 4.2 多言語名オブジェクト生成機能を実装
    - 日本語と英語の API データから多言語オブジェクトを作成
    - _要件: 2.2, 5.2_

- [ ] 5. 属性プロセッサーの実装

  - [ ] 5.1 レベル別ステータス配列生成機能を実装

    - HP、ATK、DEF の 7 レベル分の配列を作成
    - 文字列から数値への変換処理
    - _要件: 4.3, 4.5_

  - [ ] 5.2 固定ステータス値抽出機能を実装
    - レベル 1 データから impact、critRate 等の固定値を抽出
    - パーセンテージ値の処理（%記号除去）
    - "-"値のデフォルト値変換
    - _要件: 4.4, 4.5, 4.6, 4.7_

- [ ] 6. キャラクタージェネレーターの実装

  - [ ] 6.1 Character オブジェクト生成機能を実装

    - 処理済みデータから Character オブジェクトを構築
    - id フィールドに Scraping.md のリンクテキスト（"lycaon"）を設定
    - _要件: 5.1, 5.3, 5.4_

  - [ ] 6.2 データ検証機能を実装

    - 必須フィールドの存在確認
    - 数値配列の長さ検証（HP、ATK、DEF 配列が 7 要素）
    - 列挙値の妥当性確認
    - 多言語オブジェクトの完全性確認
    - _要件: 6.1, 6.2, 6.3, 6.4, 6.5_

  - [ ] 6.3 character.ts ファイル出力機能を実装
    - Character オブジェクトを TypeScript 配列形式で出力
    - 適切な export 文と as Character[]型注釈を含む
    - _要件: 5.5_

- [ ] 7. メイン処理とエラーハンドリングの統合

  - [ ] 7.1 メイン処理フローを実装

    - lycaon.json ファイルからデータを読み込み
    - 全処理ステップを順次実行
    - character.ts ファイルを生成
    - _要件: 1.1, 1.3, 5.5_

  - [ ] 7.2 包括的エラーハンドリングを実装
    - 各処理段階でのエラーキャッチと適切なメッセージ表示
    - LycanDataGeneratorError クラスの実装
    - _要件: 1.4, 6.5_

- [ ]\* 8. テストとドキュメント

  - [ ]\* 8.1 単体テストを作成

    - 各コンポーネントの機能テスト
    - モックデータを使用したテスト
    - _要件: 全要件の検証_

  - [ ]\* 8.2 統合テストを作成
    - エンドツーエンドのデータ処理テスト
    - 実際の lycaon.json ファイルを使用したテスト
    - _要件: 全要件の統合検証_
