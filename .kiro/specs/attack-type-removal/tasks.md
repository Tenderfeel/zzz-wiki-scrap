# 実装計画

- [ ] 1. 攻撃タイプ関連テストファイルの削除

  - AttackTypeFallbackService のテストファイルを完全削除
  - 統合テストから攻撃タイプ関連テストケースを削除
  - パフォーマンステストから攻撃タイプ関連テストを削除
  - _要件: 4.1, 4.2, 4.3, 4.4_

- [ ] 2. AttackTypeFallbackService の完全削除

  - [x] 2.1 AttackTypeFallbackService クラスファイルの削除

    - `src/services/AttackTypeFallbackService.ts` ファイルを削除
    - services/index.ts からのエクスポートを削除
    - _要件: 2.1, 2.2_

  - [x] 2.2 AttackTypeFallbackService 関連のインポート削除
    - DataMapper からの AttackTypeFallbackService インポートを削除
    - CharacterGenerator からの関連インポートを削除
    - 他のファイルからの未使用インポートを削除
    - _要件: 2.1, 2.2_

- [x] 3. 型定義からの攻撃タイプ削除

  - [x] 3.1 AttackType 型定義の削除

    - `src/types/index.ts` から AttackType 型を削除
    - 攻撃タイプマッピング定数を削除
    - types/index.ts からの AttackType エクスポートを削除
    - _要件: 1.1, 1.3_

  - [x] 3.2 Character 型から attackType フィールドの削除
    - Character インターフェースから attackType プロパティを削除
    - 型定義の整合性を確認
    - _要件: 1.2, 5.3_

- [x] 4. DataMapper からの攻撃タイプ処理削除

  - [x] 4.1 mapAttackType メソッドの削除

    - DataMapper クラスから mapAttackType メソッドを完全削除
    - 攻撃タイプマッピング関連のプライベートメソッドを削除
    - _要件: 2.2, 3.1_

  - [x] 4.2 AttackTypeFallbackService 依存関係の削除

    - DataMapper コンストラクタから AttackTypeFallbackService を削除
    - 関連するプロパティとメソッドを削除
    - _要件: 2.1, 3.1_

  - [x] 4.3 攻撃タイプマッピング定数の削除
    - 日本語攻撃タイプマッピング定数を削除
    - 英語攻撃タイプマッピング定数を削除
    - _要件: 1.4, 2.2_

- [x] 5. CharacterGenerator からの攻撃タイプ処理削除

  - [x] 5.1 攻撃タイプフィールド生成の削除

    - Character オブジェクト生成時の attackType フィールド設定を削除
    - mapAttackType メソッド呼び出しを削除
    - _要件: 3.2, 5.1_

  - [x] 5.2 攻撃タイプ関連のエラーハンドリング削除
    - 攻撃タイプ取得失敗時のエラー処理を削除
    - 攻撃タイプ関連のログ出力を削除
    - _要件: 3.4, 2.3_

- [x] 6. DataProcessor からの攻撃タイプ抽出削除

  - [x] 6.1 agent_attack_type フィールド抽出の削除

    - API レスポンスから攻撃タイプデータを抽出する処理を削除
    - extractAttackType メソッドを削除（存在する場合）
    - _要件: 3.3_

  - [x] 6.2 攻撃タイプ関連の処理ロジック削除
    - 攻撃タイプデータの前処理を削除
    - 攻撃タイプ関連のバリデーション処理を削除
    - _要件: 3.3, 3.4_

- [x] 7. 残存テストファイルの更新

  - [x] 7.1 DataMapper テストの更新

    - 攻撃タイプ関連のテストケースを削除
    - mapAttackType メソッドのテストを削除
    - _要件: 4.2_

  - [x] 7.2 CharacterGenerator テストの更新

    - 攻撃タイプフィールドを含むテストケースを更新
    - Character オブジェクトの期待値から attackType を削除
    - _要件: 4.3_

  - [x] 7.3 統合テストの更新
    - エンドツーエンドテストから攻撃タイプ検証を削除
    - Character オブジェクト生成テストを更新
    - _要件: 4.4_

- [x] 8. 出力ファイルとデータ構造の更新

  - [x] 8.1 生成される TypeScript ファイルの更新

    - `data/characters.ts` を攻撃タイプフィールドなしで再生成
    - 既存の出力ファイルから攻撃タイプ情報を削除
    - _要件: 5.1, 5.4_

  - [x] 8.2 中間 JSON ファイルの更新
    - 攻撃タイプ情報を含む中間ファイルを更新
    - 不要になった攻撃タイプ関連の JSON データを削除
    - _要件: 5.2_

- [x] 9. 設定とドキュメントの更新

  - [x] 9.1 設定ファイルの更新

    - 攻撃タイプ関連の設定項目を削除
    - processing-config.json から攻撃タイプ設定を削除（存在する場合）
    - _要件: 2.4_

  - [x] 9.2 API ドキュメントの更新
    - Character 型のドキュメントから attackType フィールドを削除
    - DataMapper のドキュメントから攻撃タイプ関連メソッドを削除
    - _要件: 全般_

- [-] 10. 削除後の動作検証

  - [x] 10.1 TypeScript コンパイル検証

    - 攻撃タイプ関連の型エラーがないことを確認
    - すべてのファイルが正常にコンパイルされることを確認
    - _要件: 6.3_

  - [ ] 10.2 テスト実行による検証
        コンソールに表示されるテストのログが膨大すぎるので、セグメントごとに分割して実行すること

    - すべてのテストが正常に実行されることを確認
    - 攻撃タイプ関連のテストエラーがないことを確認
    - _要件: 6.1_

  - [x] 10.3 データ生成機能の検証

    - キャラクターデータが攻撃タイプフィールドなしで正常に生成されることを確認
    - 生成されたデータの整合性を確認
    - _要件: 6.2_

  - [ ] 10.4 未使用コードのクリーンアップ
    - 未使用のインポート文を削除
    - 不要になった依存関係を削除
    - コードの整理とフォーマット
    - _要件: 6.4_
